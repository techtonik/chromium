// Copyright 2015 The Chromium Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

module web_view.mojom;

import "network/public/interfaces/url_loader.mojom";
import "components/view_manager/public/interfaces/view_tree.mojom";

interface WebViewClient {
  // Page-generated request for a top level frame navigation.
  TopLevelNavigate(mojo.URLRequest request);

  // Loading and progress notifications.
  LoadingStateChanged(bool is_loading);
  ProgressChanged(double progress);

  // TODO(beng): also forward text direction.
  TitleChanged(string? title);
};

interface WebView {
  // Navigate the top level frame to |request|.
  LoadRequest(mojo.URLRequest request);

  // Provide a ViewTreeClient for this specific WebView.
  GetViewTreeClient(mojo.ViewTreeClient& view_tree_client);
};

interface WebViewFactory {
  CreateWebView(WebViewClient client, WebView& web_view);
};
